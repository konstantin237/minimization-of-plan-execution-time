"use strict";var _hungarian=require("./hungarian.js"),_branch_and_bound=require("./branch_and_bound.js"),_lp_assignment=require("./lp_assignment.js"),_greedy_assignment=require("./greedy_assignment.js");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);var n=r.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var AssignmentModel=function(){function C(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3;_classCallCheck(this,C),this.size=t,this.C=Array.from({length:t},function(){return Array(t).fill(0)}),this.T=Array.from({length:t},function(){return Array(t).fill(0)}),this.S=0,this.T_type="min",this.T_limit=""}return _createClass(C,[{key:"setMatrixC",value:function(t){this.C=t}},{key:"setMatrixT",value:function(t){this.T=t}},{key:"setS",value:function(t){this.S=t}},{key:"setTType",value:function(t){this.T_type=t}},{key:"setTLimit",value:function(t){this.T_limit=t}},{key:"solve",value:function(t){var e,r=this,n=0<arguments.length&&void 0!==t?t:{},i=this.size,a=Array.from({length:i},function(t,e){return e}),o=[],l=null,s=_createForOfIteratorHelper(C.permutations(a));try{for(s.s();!(e=s.n()).done;){for(var u=e.value,c=0,h=[],d=[],y=0;y<i;y++){var m=this.C[y][u[y]],f=this.T[y][u[y]];c+=m,h.push(f),d.push({worker:y+1,job:u[y]+1,c:m,t:f})}var v="min"===this.T_type?Math.max.apply(Math,h):Math.min.apply(Math,h),g=!0;if(this.S&&c>this.S&&(g=!1),n.skipIncreasingTime){if(null!==l&&l<v)continue;l=v}n.hideInvalidSolutions&&!g||o.push({perm:u,sumC:c,T_value:v,table:d,valid:g})}}catch(t){s.e(t)}finally{s.f()}var b=o.filter(function(t){return t.valid});if(""!==this.T_limit&&(b="min"===this.T_type?b.filter(function(t){return t.T_value<=r.T_limit}):b.filter(function(t){return t.T_value>=r.T_limit})),0===b.length)return{answer:"Нет допустимых решений",solutions:o};var p=Math.min.apply(Math,_toConsumableArray(b.map(function(t){return t.T_value}))),T=b.filter(function(t){return t.T_value===p}),_=Math.min.apply(Math,_toConsumableArray(T.map(function(t){return t.sumC}))),x=T.filter(function(t){return t.sumC===_});return{answer:1===x.length?x[0]:x,solutions:o}}}],[{key:"permutations",value:function(t){if(1===t.length)return[t];for(var e=[],r=0;r<t.length;r++){var n,i=t.slice(0,r).concat(t.slice(r+1)),a=_createForOfIteratorHelper(C.permutations(i));try{for(a.s();!(n=a.n()).done;){var o=n.value;e.push([t[r]].concat(o))}}catch(t){a.e(t)}finally{a.f()}}return e}}])}(),AssignmentView=function(){return _createClass(function t(){_classCallCheck(this,t),this.matrixCTextarea=document.getElementById("matrix-c-textarea"),this.matrixTTextarea=document.getElementById("matrix-t-textarea"),this.syncTextareas()},[{key:"syncTextareas",value:function(){var t=this.matrixCTextarea,e=this.matrixTTextarea;function r(t,e){e.style.height=t.style.height}t&&e&&(t.addEventListener("input",function(){t.style.height="auto",t.style.height=t.scrollHeight+"px",r(t,e)}),e.addEventListener("input",function(){e.style.height="auto",e.style.height=e.scrollHeight+"px",r(e,t)}),setTimeout(function(){t.style.height="auto",e.style.height="auto",t.style.height=t.scrollHeight+"px",e.style.height=e.scrollHeight+"px",t.scrollHeight>e.scrollHeight?e.style.height=t.style.height:t.style.height=e.style.height},0))}},{key:"parseMatrixFromTextarea",value:function(t){var e=t.trim().split("\n").filter(function(t){return""!==t.trim()}).map(function(t){return t.trim().split(/\s+/).map(Number)}),r=e.map(function(t){return t.length}),n=r.every(function(t){return t===r[0]});return{matrix:e,size:e.length,isSquare:n&&e.length===r[0]}}},{key:"getParams",value:function(){return{S:+document.getElementById("salary-fund").value,T_type:document.getElementById("t-type").value,T_limit:""===document.getElementById("t-limit").value?"":+document.getElementById("t-limit").value,skipIncreasingTime:document.getElementById("skip-increasing-time").checked,hideInvalidSolutions:document.getElementById("hide-invalid-solutions").checked}}},{key:"getMatrixC",value:function(){return this.matrixCTextarea?this.parseMatrixFromTextarea(this.matrixCTextarea.value):{matrix:[],size:0,isSquare:!1}}},{key:"getMatrixT",value:function(){return this.matrixTTextarea?this.parseMatrixFromTextarea(this.matrixTTextarea.value):{matrix:[],size:0,isSquare:!1}}},{key:"renderAnswer",value:function(t){var e=document.getElementById("answer");if("string"!=typeof t){if(Array.isArray(t)){var n="";return t.forEach(function(t,e){n+="<b>Решение ".concat(e+1,"</b>"),n+="<table><thead><tr><th></th><th><b>Решение</b></th></tr></thead><tbody>";for(var r=0;r<t.perm.length;r++)n+="<tr><th>x".concat(r+1,"</th><td>").concat(t.perm[r]+1," (C: ").concat(t.table[r].c,", T: ").concat(t.table[r].t,")</td></tr>");n+="<tr><th>S</th><td>".concat(t.sumC,"</td></tr>"),n+="<tr><th>T</th><td>".concat(t.T_value,"</td></tr>"),n+="</tbody></table>"}),void(e.innerHTML=n)}for(var r="<table><thead><tr><th></th><th><b>Решение</b></th></tr></thead><tbody>",i=0;i<t.perm.length;i++)r+="<tr><th>x".concat(i+1,"</th><td>").concat(t.perm[i]+1," (C: ").concat(t.table[i].c,", T: ").concat(t.table[i].t,")</td></tr>");r+="<tr><th>S</th><td>".concat(t.sumC,"</td></tr>"),r+="<tr><th>T</th><td>".concat(t.T_value,"</td></tr>"),r+="</tbody></table>",e.innerHTML=r}else e.textContent=t}},{key:"renderSolutionTable",value:function(t){var e=document.getElementById("solution-table");if(t&&0!==t.length){var r=t[0].perm.length,a="<table><thead><tr><th></th>";t.forEach(function(t,e){a+="<th".concat(t.valid?"":' style="opacity:0.5"',">Решение № ").concat(e+1,"</th>")}),a+="</tr></thead><tbody>";for(var n=function(i){a+="<tr><th>x".concat(i+1,"</th>"),t.forEach(function(t){var e=t.perm[i],r=t.table[i].c,n=t.table[i].t;a+="<td".concat(t.valid?"":' style="opacity:0.5"',">").concat(e+1," (C: ").concat(r,", T: ").concat(n,")</td>")}),a+="</tr>"},i=0;i<r;i++)n(i);a+="<tr><th>S</th>",t.forEach(function(t){a+="<td".concat(t.valid?"":' style="opacity:0.5"',">").concat(t.sumC,"</td>")}),a+="</tr>",a+="<tr><th>T</th>",t.forEach(function(t){a+="<td".concat(t.valid?"":' style="opacity:0.5"',">").concat(t.T_value,"</td>")}),a+="</tr>",a+="</tbody></table>",e.innerHTML=a}else e.innerHTML=""}},{key:"renderHungarianMethod",value:function(t){return(0,_hungarian.hungarianMethod)(t)}},{key:"renderOtherMethods",value:function(t){var e="";e+="<h3>Метод ветвей и границ</h3>",e+="<div>Метод ветвей и границ строит дерево решений, отбрасывая заведомо невыгодные варианты. Обычно используется для больших задач, когда полный перебор невозможен.</div>";var r=(0,_branch_and_bound.branchAndBoundAssignment)(t);if(r){e+="<div><b>Решение:</b></div>",e+="<table><thead><tr><th></th><th>Назначение</th></tr></thead><tbody>";for(var n=0;n<r.assignment.length;n++)e+="<tr><th>x".concat(n+1,"</th><td>").concat(r.assignment[n]+1," (C: ").concat(t[n][r.assignment[n]],")</td></tr>");e+="</tbody></table>",e+="<div><b>Ответ:</b> Суммарная стоимость = ".concat(r.cost,"</div>")}e+="<h3>Линейное программирование</h3>",e+="<div>Задача о назначениях может быть сведена к задаче линейного программирования и решена симплекс-методом или другими LP-алгоритмами.</div>";var i=(0,_lp_assignment.lpAssignment)(t);if(i){e+="<div><b>Решение:</b></div>",e+="<table><thead><tr><th></th><th>Назначение</th></tr></thead><tbody>";for(var a=0;a<i.assignment.length;a++)e+="<tr><th>x".concat(a+1,"</th><td>").concat(i.assignment[a]+1," (C: ").concat(t[a][i.assignment[a]],")</td></tr>");e+="</tbody></table>",e+="<div><b>Ответ:</b> Суммарная стоимость = ".concat(i.cost,"</div>")}e+="<h3>Жадные и эвристические методы</h3>",e+="<div>Жадные методы назначают работ по принципу минимальной стоимости на каждом шаге, но не гарантируют оптимальности.</div>";var o=(0,_greedy_assignment.greedyAssignment)(t);if(o){e+="<div><b>Решение:</b></div>",e+="<table><thead><tr><th></th><th>Назначение</th></tr></thead><tbody>";for(var l=0;l<o.assignment.length;l++)e+="<tr><th>x".concat(l+1,"</th><td>").concat(o.assignment[l]+1," (C: ").concat(t[l][o.assignment[l]],")</td></tr>");e+="</tbody></table>",e+="<div><b>Ответ:</b> Суммарная стоимость = ".concat(o.cost,"</div>")}return e}},{key:"renderExtraMethods",value:function(t){var e=document.getElementById("extra-methods"),r="",n=t,i=n.length;if(r+="<h3>Решение методом Венгера (венгерский алгоритм)</h3>",0<i&&n.every(function(t){return t.length===i})){var a=this.renderHungarianMethod(n);if(a){r+="<div><b>Решение:</b></div>",r+="<table><thead><tr><th></th><th>Назначение</th></tr></thead><tbody>";for(var o=0;o<a.assignment.length;o++)r+="<tr><th>x".concat(o+1,"</th><td>").concat(a.assignment[o]+1," (C: ").concat(n[o][a.assignment[o]],")</td></tr>");r+="</tbody></table>",r+="<div><b>Ответ:</b> Суммарная стоимость = ".concat(a.cost,"</div>")}else r+="<div>Венгерский алгоритм не смог найти решение для этой матрицы.</div>"}else r+='<div style="color:red">Матрица должна быть квадратной (n×n), проверьте ввод.</div>';r+=this.renderOtherMethods(n),e.innerHTML=r}}])}(),AssignmentController=function(){return _createClass(function t(){_classCallCheck(this,t),this.model=null,this.view=new AssignmentView,this.initEvents()},[{key:"initEvents",value:function(){var t=this;document.getElementById("solve-btn").addEventListener("click",function(){return t.solve()})}},{key:"solve",value:function(){var t=this.view.getMatrixC(),e=t.matrix,r=t.size,n=(t.isSquare,this.view.getMatrixT()),i=n.matrix,a=n.size;window.assignmentModelInputC=e,window.assignmentModelInputT=i;var o=Math.min(r,a);if(!o||e.length!==o||i.length!==o)return this.view.renderAnswer("Ошибка: некорректный ввод матриц"),this.view.renderSolutionTable([]),void(document.getElementById("extra-methods").innerHTML="");this.model=new AssignmentModel(o),this.model.setMatrixC(e),this.model.setMatrixT(i);var l=this.view.getParams();this.model.setS(l.S),this.model.setTType(l.T_type),this.model.setTLimit(l.T_limit);var s=this.model.solve(l),u=s.answer,c=s.solutions;this.view.renderAnswer(u.answer||u),this.view.renderSolutionTable(c),this.view.renderExtraMethods(e)}}])}();window.addEventListener("DOMContentLoaded",function(){new AssignmentController});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpcnN0X3NjcmlwdC5qcyJdLCJuYW1lcyI6WyJfaHVuZ2FyaWFuIiwicmVxdWlyZSIsIl9icmFuY2hfYW5kX2JvdW5kIiwiX2xwX2Fzc2lnbm1lbnQiLCJfZ3JlZWR5X2Fzc2lnbm1lbnQiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJyIiwiX2FycmF5V2l0aG91dEhvbGVzIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsIlR5cGVFcnJvciIsIkFycmF5IiwiZnJvbSIsImlzQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiZSIsInQiLCJsZW5ndGgiLCJfbiIsIkYiLCJzIiwibiIsImRvbmUiLCJ2YWx1ZSIsImYiLCJhIiwidSIsImNhbGwiLCJuZXh0IiwidG9TdHJpbmciLCJzbGljZSIsIm5hbWUiLCJ0ZXN0IiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnRpZXMiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl90b1Byb3BlcnR5S2V5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwiaSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiU3RyaW5nIiwiTnVtYmVyIiwiQXNzaWdubWVudE1vZGVsIiwidGhpcyIsInNpemUiLCJmaWxsIiwiQyIsIlQiLCJTIiwiVF90eXBlIiwiVF9saW1pdCIsIl9zdGVwIiwiX3RoaXMiLCJwYXJhbXMiLCJqb2JzIiwiXyIsInNvbHV0aW9ucyIsInNldE1hdHJpeEMiLCJfaXRlcmF0b3IiLCJwZXJtIiwic3VtQyIsInRpbWVzIiwidGFibGUiLCJzZXRNYXRyaXhUIiwiYyIsInB1c2giLCJzZXRTIiwiam9iIiwiVF92YWx1ZSIsIk1hdGgiLCJtYXgiLCJhcHBseSIsIm1pbiIsInZhbGlkIiwic2tpcEluY3JlYXNpbmdUaW1lIiwicHJldlQiLCJlcnIiLCJmaWx0ZXJlZCIsImZpbHRlciIsImFuc3dlciIsIm1pblQiLCJtYXAiLCJtaW5Uc29sdXRpb25zIiwibWluUyIsInBlcm11dGF0aW9ucyIsImJlc3RTb2x1dGlvbnMiLCJhcnIiLCJyZXN1bHQiLCJfc3RlcDIiLCJyZXN0IiwiY29uY2F0IiwiX2l0ZXJhdG9yMiIsIkFzc2lnbm1lbnRWaWV3IiwibWF0cml4Q1RleHRhcmVhIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm1hdHJpeFRUZXh0YXJlYSIsInN5bmNUZXh0YXJlYXMiLCJzeW5jIiwidG8iLCJzdHlsZSIsImhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzY3JvbGxIZWlnaHQiLCJoaWRlSW52YWxpZFNvbHV0aW9ucyIsInNldFRpbWVvdXQiLCJtYXRyaXgiLCJ0cmltIiwic3BsaXQiLCJsaW5lIiwicm93TGVucyIsInJvdyIsImFsbEVxdWFsIiwiZXZlcnkiLCJsIiwiaXNTcXVhcmUiLCJjaGVja2VkIiwicGFyc2VNYXRyaXhGcm9tVGV4dGFyZWEiLCJhbnN3ZXJFbCIsImh0bWwiLCJhbnMiLCJpZHgiLCJpbm5lckhUTUwiLCJ0YWJsZURpdiIsInNvbCIsIl9sb29wIiwiZm9yRWFjaCIsImpvYklkeCIsImJyYW5jaEFuZEJvdW5kQXNzaWdubWVudCIsImJiIiwiYXNzaWdubWVudCIsImNvc3QiLCJscCIsImdyZWVkeSIsImdyZWVkeUFzc2lnbm1lbnQiLCJnZXRQYXJhbXMiLCJDcmF3IiwiZXh0cmFEaXYiLCJyZW5kZXJIdW5nYXJpYW5NZXRob2QiLCJ0ZXh0Q29udGVudCIsIkFzc2lnbm1lbnRDb250cm9sbGVyIiwibW9kZWwiLCJ2aWV3IiwiaW5pdEV2ZW50cyIsIl90aGlzMiIsInNvbHZlIiwiX3RoaXMkdmlldyRnZXRNYXRyaXhDIiwiZ2V0TWF0cml4QyIsIl90aGlzJHZpZXckZ2V0TWF0cml4VCIsImdldE1hdHJpeFQiLCJzaXplVCIsIndpbmRvdyIsImFzc2lnbm1lbnRNb2RlbElucHV0QyIsImFzc2lnbm1lbnRNb2RlbElucHV0VCIsInNpemVDIiwicmVuZGVyQW5zd2VyIiwicmVuZGVyU29sdXRpb25UYWJsZSIsIl90aGlzJG1vZGVsJHNvbHZlIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFBQSxXQUFBQyxRQUFBLGtCQUNBQyxrQkFBQUQsUUFBQSx5QkFEQUUsZUFBQUYsUUFBQSxzQkFDQUcsbUJBQUFILFFBQUEsMEJBQUEsU0FBQUksUUFBQUMsR0FBQSxPQUFBRCxRQUFBLG1CQUFBRSxRQUFBLGlCQUFBQSxPQUFBQyxTQUFBLFNBQUFGLEdBQUEsY0FBQUEsR0FBQSxTQUFBQSxHQUFBLE9BQUFBLEdBQUEsbUJBQUFDLFFBQUFELEVBQUFHLGNBQUFGLFFBQUFELElBQUFDLE9BQUFHLFVBQUEsZ0JBQUFKLElBQUFBLEdBQUEsU0FBQUssbUJBQUFDLEdBQUEsT0FBQUMsbUJBQUFELElBQUFFLGlCQUFBRixJQUFBRyw0QkFBQUgsSUFBQUkscUJBQUEsU0FBQUEscUJBQUEsTUFBQSxJQUFBQyxVQUFBLHdJQUFBLFNBQUFILGlCQUFBRixHQUFBLEdBQUEsb0JBQUFMLFFBQUEsTUFBQUssRUFBQUwsT0FBQUMsV0FBQSxNQUFBSSxFQUFBLGNBQUEsT0FBQU0sTUFBQUMsS0FBQVAsR0FBQSxTQUFBQyxtQkFBQUQsR0FBQSxHQUFBTSxNQUFBRSxRQUFBUixHQUFBLE9BQUFTLGtCQUFBVCxHQUFBLFNBQUFVLDJCQUFBVixFQUFBVyxHQUFBLElBQUFDLEVBQUEsb0JBQUFqQixRQUFBSyxFQUFBTCxPQUFBQyxXQUFBSSxFQUFBLGNBQUEsSUFBQVksRUFBQSxDQUFBLEdBQUFOLE1BQUFFLFFBQUFSLEtBQUFZLEVBQUFULDRCQUFBSCxLQUFBVyxHQUFBWCxHQUFBLGlCQUFBQSxFQUFBYSxPQUFBLENBQUFELElBQUFaLEVBQUFZLEdBQUEsSUFBQUUsRUFBQSxFQUFBQyxFQUFBLGFBQUEsTUFB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RCxFQUFZbUMsRUFBWm5DLFVBeUlyRC9FLEtBeklxRW1HLEtBQUFhLGFBQUE1RSxFQUFBQSxRQUFBQSxHQTBJckVwQyxLQTFJNkVtRyxLQUFBYyxvQkFBQXBHLEdBMkk3RWIsS0ExSUFtRyxLQUFVdEYsbUJBQWtCN0MsT0ExQlgsR0F5S3JCNEksT0ExSUloQyxpQkFBUSxtQkFBc0IsV0EySWhDLElBM0lpQ3FCIiwiZmlsZSI6ImZpcnN0X3NjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGh1bmdhcmlhbk1ldGhvZCB9IGZyb20gJy4vaHVuZ2FyaWFuLmpzJztcbmltcG9ydCB7IGJyYW5jaEFuZEJvdW5kQXNzaWdubWVudCB9IGZyb20gJy4vYnJhbmNoX2FuZF9ib3VuZC5qcyc7XG5pbXBvcnQgeyBscEFzc2lnbm1lbnQgfSBmcm9tICcuL2xwX2Fzc2lnbm1lbnQuanMnO1xuaW1wb3J0IHsgZ3JlZWR5QXNzaWdubWVudCB9IGZyb20gJy4vZ3JlZWR5X2Fzc2lnbm1lbnQuanMnO1xuXG4vLyBNb2RlbFxuY2xhc3MgQXNzaWdubWVudE1vZGVsIHtcbiAgY29uc3RydWN0b3Ioc2l6ZSA9IDMpIHtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuQyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHNpemUgfSwgKCkgPT4gQXJyYXkoc2l6ZSkuZmlsbCgwKSk7XG4gICAgdGhpcy5UID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogc2l6ZSB9LCAoKSA9PiBBcnJheShzaXplKS5maWxsKDApKTtcbiAgICB0aGlzLlMgPSAwO1xuICAgIHRoaXMuVF90eXBlID0gJ21pbic7XG4gICAgdGhpcy5UX2xpbWl0ID0gJyc7XG4gIH1cblxuICBzZXRNYXRyaXhDKEMpIHsgdGhpcy5DID0gQzsgfVxuICBzZXRNYXRyaXhUKFQpIHsgdGhpcy5UID0gVDsgfVxuICBzZXRTKFMpIHsgdGhpcy5TID0gUzsgfVxuICBzZXRUVHlwZShUX3R5cGUpIHsgdGhpcy5UX3R5cGUgPSBUX3R5cGU7IH1cbiAgc2V0VExpbWl0KFRfbGltaXQpIHsgdGhpcy5UX2xpbWl0ID0gVF9saW1pdDsgfVxuXG4gIC8vINCT0LXQvdC10YDQsNGG0LjRjyDQstGB0LXRhSDQv9C10YDQtdGB0YLQsNC90L7QstC+0Log0YDQsNCx0L7RgiDQtNC70Y8gbiDRgNCw0LHQvtGC0L3QuNC60L7QslxuICBzdGF0aWMgcGVybXV0YXRpb25zKGFycikge1xuICAgIGlmIChhcnIubGVuZ3RoID09PSAxKSByZXR1cm4gW2Fycl07XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmVzdCA9IGFyci5zbGljZSgwLCBpKS5jb25jYXQoYXJyLnNsaWNlKGkgKyAxKSk7XG4gICAgICBmb3IgKGxldCBwZXJtIG9mIEFzc2lnbm1lbnRNb2RlbC5wZXJtdXRhdGlvbnMocmVzdCkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goW2FycltpXV0uY29uY2F0KHBlcm0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vINCg0LXRiNC10L3QuNC1INC30LDQtNCw0YfQuCDQviDQvdCw0LfQvdCw0YfQtdC90LjRj9GFINC/0LXRgNC10LHQvtGA0L7QvFxuICBzb2x2ZShwYXJhbXMgPSB7fSkge1xuICAgIGNvbnN0IG4gPSB0aGlzLnNpemU7XG4gICAgY29uc3Qgam9icyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG4gfSwgKF8sIGkpID0+IGkpO1xuICAgIGNvbnN0IHBlcm1zID0gQXNzaWdubWVudE1vZGVsLnBlcm11dGF0aW9ucyhqb2JzKTtcbiAgICBsZXQgc29sdXRpb25zID0gW107XG4gICAgbGV0IHByZXZUID0gbnVsbDtcbiAgICBmb3IgKGxldCBwZXJtIG9mIHBlcm1zKSB7XG4gICAgICBsZXQgc3VtQyA9IDA7XG4gICAgICBsZXQgdGltZXMgPSBbXTtcbiAgICAgIGxldCB0YWJsZSA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgbGV0IGMgPSB0aGlzLkNbaV1bcGVybVtpXV07XG4gICAgICAgIGxldCB0ID0gdGhpcy5UW2ldW3Blcm1baV1dO1xuICAgICAgICBzdW1DICs9IGM7XG4gICAgICAgIHRpbWVzLnB1c2godCk7XG4gICAgICAgIHRhYmxlLnB1c2goeyB3b3JrZXI6IGkgKyAxLCBqb2I6IHBlcm1baV0gKyAxLCBjLCB0IH0pO1xuICAgICAgfVxuICAgICAgbGV0IFRfdmFsdWUgPSB0aGlzLlRfdHlwZSA9PT0gJ21pbicgPyBNYXRoLm1heCguLi50aW1lcykgOiBNYXRoLm1pbiguLi50aW1lcyk7XG4gICAgICBsZXQgdmFsaWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuUyAmJiBzdW1DID4gdGhpcy5TKSB2YWxpZCA9IGZhbHNlO1xuICAgICAgaWYgKHBhcmFtcy5za2lwSW5jcmVhc2luZ1RpbWUpIHtcbiAgICAgICAgaWYgKHByZXZUICE9PSBudWxsICYmIFRfdmFsdWUgPiBwcmV2VCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHByZXZUID0gVF92YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJhbXMuaGlkZUludmFsaWRTb2x1dGlvbnMgJiYgIXZhbGlkKSBjb250aW51ZTtcbiAgICAgIHNvbHV0aW9ucy5wdXNoKHsgcGVybSwgc3VtQywgVF92YWx1ZSwgdGFibGUsIHZhbGlkIH0pO1xuICAgIH1cbiAgICAvLyDQndC+0LLRi9C5INCw0LvQs9C+0YDQuNGC0Lwg0LLRi9Cx0L7RgNCwINC+0YLQstC10YLQsDpcbiAgICBsZXQgZmlsdGVyZWQgPSBzb2x1dGlvbnMuZmlsdGVyKHMgPT4gcy52YWxpZCk7XG4gICAgaWYgKHRoaXMuVF9saW1pdCAhPT0gJycpIHtcbiAgICAgIGlmICh0aGlzLlRfdHlwZSA9PT0gJ21pbicpIHtcbiAgICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIocyA9PiBzLlRfdmFsdWUgPD0gdGhpcy5UX2xpbWl0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKHMgPT4gcy5UX3ZhbHVlID49IHRoaXMuVF9saW1pdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHJldHVybiB7IGFuc3dlcjogJ9Cd0LXRgiDQtNC+0L/Rg9GB0YLQuNC80YvRhSDRgNC10YjQtdC90LjQuScsIHNvbHV0aW9ucyB9O1xuICAgIC8vIDEuINCd0LDRhdC+0LTQuNC8INC80LjQvdC40LzQsNC70YzQvdC+0LUgVFxuICAgIGxldCBtaW5UID0gTWF0aC5taW4oLi4uZmlsdGVyZWQubWFwKHMgPT4gcy5UX3ZhbHVlKSk7XG4gICAgbGV0IG1pblRzb2x1dGlvbnMgPSBmaWx0ZXJlZC5maWx0ZXIocyA9PiBzLlRfdmFsdWUgPT09IG1pblQpO1xuICAgIC8vIDIuINCh0YDQtdC00Lgg0L3QuNGFINC40YnQtdC8INC80LjQvdC40LzQsNC70YzQvdC+0LUgU1xuICAgIGxldCBtaW5TID0gTWF0aC5taW4oLi4ubWluVHNvbHV0aW9ucy5tYXAocyA9PiBzLnN1bUMpKTtcbiAgICBsZXQgYmVzdFNvbHV0aW9ucyA9IG1pblRzb2x1dGlvbnMuZmlsdGVyKHMgPT4gcy5zdW1DID09PSBtaW5TKTtcbiAgICAvLyAzLiDQldGB0LvQuCDQvtC00L3QviDigJQg0LLRi9Cy0L7QtNC40Lwg0LrQsNC6INGA0LDQvdGM0YjQtSwg0LXRgdC70Lgg0L3QtdGB0LrQvtC70YzQutC+IOKAlCDQvNCw0YHRgdC40LJcbiAgICBsZXQgYW5zd2VyO1xuICAgIGlmIChiZXN0U29sdXRpb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgYW5zd2VyID0gYmVzdFNvbHV0aW9uc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5zd2VyID0gYmVzdFNvbHV0aW9ucztcbiAgICB9XG4gICAgcmV0dXJuIHsgYW5zd2VyLCBzb2x1dGlvbnMgfTtcbiAgfVxufVxuXG4vLyBWaWV3XG5jbGFzcyBBc3NpZ25tZW50VmlldyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWF0cml4Q1RleHRhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hdHJpeC1jLXRleHRhcmVhJyk7XG4gICAgdGhpcy5tYXRyaXhUVGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWF0cml4LXQtdGV4dGFyZWEnKTtcbiAgICB0aGlzLnN5bmNUZXh0YXJlYXMoKTtcbiAgfVxuICBzeW5jVGV4dGFyZWFzKCkge1xuICAgIGNvbnN0IGMgPSB0aGlzLm1hdHJpeENUZXh0YXJlYTtcbiAgICBjb25zdCB0ID0gdGhpcy5tYXRyaXhUVGV4dGFyZWE7XG4gICAgaWYgKCFjIHx8ICF0KSByZXR1cm47XG4gICAgZnVuY3Rpb24gc3luYyhmcm9tLCB0bykge1xuICAgICAgdG8uc3R5bGUuaGVpZ2h0ID0gZnJvbS5zdHlsZS5oZWlnaHQ7XG4gICAgfVxuICAgIGMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBjLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgIGMuc3R5bGUuaGVpZ2h0ID0gYy5zY3JvbGxIZWlnaHQgKyAncHgnO1xuICAgICAgc3luYyhjLCB0KTtcbiAgICB9KTtcbiAgICB0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgdC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICB0LnN0eWxlLmhlaWdodCA9IHQuc2Nyb2xsSGVpZ2h0ICsgJ3B4JztcbiAgICAgIHN5bmModCwgYyk7XG4gICAgfSk7XG4gICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGMuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgdC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICBjLnN0eWxlLmhlaWdodCA9IGMuc2Nyb2xsSGVpZ2h0ICsgJ3B4JztcbiAgICAgIHQuc3R5bGUuaGVpZ2h0ID0gdC5zY3JvbGxIZWlnaHQgKyAncHgnO1xuICAgICAgaWYgKGMuc2Nyb2xsSGVpZ2h0ID4gdC5zY3JvbGxIZWlnaHQpIHQuc3R5bGUuaGVpZ2h0ID0gYy5zdHlsZS5oZWlnaHQ7XG4gICAgICBlbHNlIGMuc3R5bGUuaGVpZ2h0ID0gdC5zdHlsZS5oZWlnaHQ7XG4gICAgfSwgMCk7XG4gIH1cbiAgcGFyc2VNYXRyaXhGcm9tVGV4dGFyZWEodGV4dGFyZWFWYWx1ZSkge1xuICAgIGNvbnN0IGxpbmVzID0gdGV4dGFyZWFWYWx1ZS50cmltKCkuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSAnJyk7XG4gICAgY29uc3QgbWF0cml4ID0gbGluZXMubWFwKGxpbmUgPT4gbGluZS50cmltKCkuc3BsaXQoL1xccysvKS5tYXAoTnVtYmVyKSk7XG4gICAgY29uc3Qgcm93TGVucyA9IG1hdHJpeC5tYXAocm93ID0+IHJvdy5sZW5ndGgpO1xuICAgIGNvbnN0IGFsbEVxdWFsID0gcm93TGVucy5ldmVyeShsID0+IGwgPT09IHJvd0xlbnNbMF0pO1xuICAgIHJldHVybiB7IG1hdHJpeCwgc2l6ZTogbWF0cml4Lmxlbmd0aCwgaXNTcXVhcmU6IGFsbEVxdWFsICYmIG1hdHJpeC5sZW5ndGggPT09IHJvd0xlbnNbMF0gfTtcbiAgfVxuICBnZXRQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFM6ICtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2FsYXJ5LWZ1bmQnKS52YWx1ZSxcbiAgICAgIFRfdHlwZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3QtdHlwZScpLnZhbHVlLFxuICAgICAgVF9saW1pdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3QtbGltaXQnKS52YWx1ZSA9PT0gJycgPyAnJyA6ICtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndC1saW1pdCcpLnZhbHVlLFxuICAgICAgc2tpcEluY3JlYXNpbmdUaW1lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2tpcC1pbmNyZWFzaW5nLXRpbWUnKS5jaGVja2VkLFxuICAgICAgaGlkZUludmFsaWRTb2x1dGlvbnM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlLWludmFsaWQtc29sdXRpb25zJykuY2hlY2tlZFxuICAgIH07XG4gIH1cbiAgZ2V0TWF0cml4QygpIHtcbiAgICBpZiAoIXRoaXMubWF0cml4Q1RleHRhcmVhKSByZXR1cm4geyBtYXRyaXg6IFtdLCBzaXplOiAwLCBpc1NxdWFyZTogZmFsc2UgfTtcbiAgICByZXR1cm4gdGhpcy5wYXJzZU1hdHJpeEZyb21UZXh0YXJlYSh0aGlzLm1hdHJpeENUZXh0YXJlYS52YWx1ZSk7XG4gIH1cbiAgZ2V0TWF0cml4VCgpIHtcbiAgICBpZiAoIXRoaXMubWF0cml4VFRleHRhcmVhKSByZXR1cm4geyBtYXRyaXg6IFtdLCBzaXplOiAwLCBpc1NxdWFyZTogZmFsc2UgfTtcbiAgICByZXR1cm4gdGhpcy5wYXJzZU1hdHJpeEZyb21UZXh0YXJlYSh0aGlzLm1hdHJpeFRUZXh0YXJlYS52YWx1ZSk7XG4gIH1cbiAgcmVuZGVyQW5zd2VyKGFuc3dlcikge1xuICAgIGNvbnN0IGFuc3dlckVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Fuc3dlcicpO1xuICAgIGlmICh0eXBlb2YgYW5zd2VyID09PSAnc3RyaW5nJykge1xuICAgICAgYW5zd2VyRWwudGV4dENvbnRlbnQgPSBhbnN3ZXI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vINCV0YHQu9C4INC90LXRgdC60L7Qu9GM0LrQviDRgNC10YjQtdC90LjQuSDigJQg0LLRi9Cy0L7QtNC40Lwg0LLRgdC1XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYW5zd2VyKSkge1xuICAgICAgbGV0IGh0bWwgPSAnJztcbiAgICAgIGFuc3dlci5mb3JFYWNoKChhbnMsIGlkeCkgPT4ge1xuICAgICAgICBodG1sICs9IGA8Yj7QoNC10YjQtdC90LjQtSAke2lkeCArIDF9PC9iPmA7XG4gICAgICAgIGh0bWwgKz0gJzx0YWJsZT48dGhlYWQ+PHRyPjx0aD48L3RoPjx0aD48Yj7QoNC10YjQtdC90LjQtTwvYj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+JztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbnMucGVybS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGh0bWwgKz0gYDx0cj48dGg+eCR7aSArIDF9PC90aD48dGQ+JHthbnMucGVybVtpXSArIDF9IChDOiAke2Fucy50YWJsZVtpXS5jfSwgVDogJHthbnMudGFibGVbaV0udH0pPC90ZD48L3RyPmA7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSBgPHRyPjx0aD5TPC90aD48dGQ+JHthbnMuc3VtQ308L3RkPjwvdHI+YDtcbiAgICAgICAgaHRtbCArPSBgPHRyPjx0aD5UPC90aD48dGQ+JHthbnMuVF92YWx1ZX08L3RkPjwvdHI+YDtcbiAgICAgICAgaHRtbCArPSAnPC90Ym9keT48L3RhYmxlPic7XG4gICAgICB9KTtcbiAgICAgIGFuc3dlckVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vINCe0LHRi9GH0L3Ri9C5INCy0YvQstC+0LQg0LTQu9GPINC+0LTQvdC+0LPQviDRgNC10YjQtdC90LjRj1xuICAgIGxldCBodG1sID0gJzx0YWJsZT48dGhlYWQ+PHRyPjx0aD48L3RoPjx0aD48Yj7QoNC10YjQtdC90LjQtTwvYj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFuc3dlci5wZXJtLmxlbmd0aDsgaSsrKSB7XG4gICAgICBodG1sICs9IGA8dHI+PHRoPngke2kgKyAxfTwvdGg+PHRkPiR7YW5zd2VyLnBlcm1baV0gKyAxfSAoQzogJHthbnN3ZXIudGFibGVbaV0uY30sIFQ6ICR7YW5zd2VyLnRhYmxlW2ldLnR9KTwvdGQ+PC90cj5gO1xuICAgIH1cbiAgICBodG1sICs9IGA8dHI+PHRoPlM8L3RoPjx0ZD4ke2Fuc3dlci5zdW1DfTwvdGQ+PC90cj5gO1xuICAgIGh0bWwgKz0gYDx0cj48dGg+VDwvdGg+PHRkPiR7YW5zd2VyLlRfdmFsdWV9PC90ZD48L3RyPmA7XG4gICAgaHRtbCArPSAnPC90Ym9keT48L3RhYmxlPic7XG4gICAgYW5zd2VyRWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgfVxuICByZW5kZXJTb2x1dGlvblRhYmxlKHNvbHV0aW9ucykge1xuICAgIGNvbnN0IHRhYmxlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvbHV0aW9uLXRhYmxlJyk7XG4gICAgaWYgKCFzb2x1dGlvbnMgfHwgc29sdXRpb25zLmxlbmd0aCA9PT0gMCkgeyB0YWJsZURpdi5pbm5lckhUTUwgPSAnJzsgcmV0dXJuOyB9XG4gICAgY29uc3QgbiA9IHNvbHV0aW9uc1swXS5wZXJtLmxlbmd0aDtcbiAgICBsZXQgaHRtbCA9ICc8dGFibGU+PHRoZWFkPjx0cj48dGg+PC90aD4nO1xuICAgIHNvbHV0aW9ucy5mb3JFYWNoKChzb2wsIGlkeCkgPT4ge1xuICAgICAgaHRtbCArPSBgPHRoJHtzb2wudmFsaWQgPyAnJyA6ICcgc3R5bGU9XFxcIm9wYWNpdHk6MC41XFxcIid9PtCg0LXRiNC10L3QuNC1IOKEliAke2lkeCArIDF9PC90aD5gO1xuICAgIH0pO1xuICAgIGh0bWwgKz0gJzwvdHI+PC90aGVhZD48dGJvZHk+JztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgaHRtbCArPSBgPHRyPjx0aD54JHtpICsgMX08L3RoPmA7XG4gICAgICBzb2x1dGlvbnMuZm9yRWFjaCgoc29sKSA9PiB7XG4gICAgICAgIGNvbnN0IGpvYklkeCA9IHNvbC5wZXJtW2ldO1xuICAgICAgICBjb25zdCBjID0gc29sLnRhYmxlW2ldLmM7XG4gICAgICAgIGNvbnN0IHQgPSBzb2wudGFibGVbaV0udDtcbiAgICAgICAgaHRtbCArPSBgPHRkJHtzb2wudmFsaWQgPyAnJyA6ICcgc3R5bGU9XFxcIm9wYWNpdHk6MC41XFxcIid9PiR7am9iSWR4ICsgMX0gKEM6ICR7Y30sIFQ6ICR7dH0pPC90ZD5gO1xuICAgICAgfSk7XG4gICAgICBodG1sICs9ICc8L3RyPic7XG4gICAgfVxuICAgIGh0bWwgKz0gJzx0cj48dGg+UzwvdGg+JztcbiAgICBzb2x1dGlvbnMuZm9yRWFjaCgoc29sKSA9PiB7XG4gICAgICBodG1sICs9IGA8dGQke3NvbC52YWxpZCA/ICcnIDogJyBzdHlsZT1cXFwib3BhY2l0eTowLjVcXFwiJ30+JHtzb2wuc3VtQ308L3RkPmA7XG4gICAgfSk7XG4gICAgaHRtbCArPSAnPC90cj4nO1xuICAgIGh0bWwgKz0gJzx0cj48dGg+VDwvdGg+JztcbiAgICBzb2x1dGlvbnMuZm9yRWFjaCgoc29sKSA9PiB7XG4gICAgICBodG1sICs9IGA8dGQke3NvbC52YWxpZCA/ICcnIDogJyBzdHlsZT1cXFwib3BhY2l0eTowLjVcXFwiJ30+JHtzb2wuVF92YWx1ZX08L3RkPmA7XG4gICAgfSk7XG4gICAgaHRtbCArPSAnPC90cj4nO1xuICAgIGh0bWwgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuICAgIHRhYmxlRGl2LmlubmVySFRNTCA9IGh0bWw7XG4gIH1cbiAgcmVuZGVySHVuZ2FyaWFuTWV0aG9kKEMpIHtcbiAgICByZXR1cm4gaHVuZ2FyaWFuTWV0aG9kKEMpO1xuICB9XG4gIHJlbmRlck90aGVyTWV0aG9kcyhDKSB7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICAvLyAtLS0g0JLQtdGC0LLQtdC5INC4INCz0YDQsNC90LjRhiAtLS1cbiAgICBodG1sICs9ICc8aDM+0JzQtdGC0L7QtCDQstC10YLQstC10Lkg0Lgg0LPRgNCw0L3QuNGGPC9oMz4nO1xuICAgIGh0bWwgKz0gJzxkaXY+0JzQtdGC0L7QtCDQstC10YLQstC10Lkg0Lgg0LPRgNCw0L3QuNGGINGB0YLRgNC+0LjRgiDQtNC10YDQtdCy0L4g0YDQtdGI0LXQvdC40LksINC+0YLQsdGA0LDRgdGL0LLQsNGPINC30LDQstC10LTQvtC80L4g0L3QtdCy0YvQs9C+0LTQvdGL0LUg0LLQsNGA0LjQsNC90YLRiy4g0J7QsdGL0YfQvdC+INC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQtNC70Y8g0LHQvtC70YzRiNC40YUg0LfQsNC00LDRhywg0LrQvtCz0LTQsCDQv9C+0LvQvdGL0Lkg0L/QtdGA0LXQsdC+0YAg0L3QtdCy0L7Qt9C80L7QttC10L0uPC9kaXY+JztcbiAgICBjb25zdCBiYiA9IGJyYW5jaEFuZEJvdW5kQXNzaWdubWVudChDKTtcbiAgICBpZiAoYmIpIHtcbiAgICAgIGh0bWwgKz0gJzxkaXY+PGI+0KDQtdGI0LXQvdC40LU6PC9iPjwvZGl2Pic7XG4gICAgICBodG1sICs9ICc8dGFibGU+PHRoZWFkPjx0cj48dGg+PC90aD48dGg+0J3QsNC30L3QsNGH0LXQvdC40LU8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+JztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmIuYXNzaWdubWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICBodG1sICs9IGA8dHI+PHRoPngke2kgKyAxfTwvdGg+PHRkPiR7YmIuYXNzaWdubWVudFtpXSArIDF9IChDOiAke0NbaV1bYmIuYXNzaWdubWVudFtpXV19KTwvdGQ+PC90cj5gO1xuICAgICAgfVxuICAgICAgaHRtbCArPSAnPC90Ym9keT48L3RhYmxlPic7XG4gICAgICBodG1sICs9IGA8ZGl2PjxiPtCe0YLQstC10YI6PC9iPiDQodGD0LzQvNCw0YDQvdCw0Y8g0YHRgtC+0LjQvNC+0YHRgtGMID0gJHtiYi5jb3N0fTwvZGl2PmA7XG4gICAgfVxuICAgIC8vIC0tLSDQm9CfIC0tLVxuICAgIGh0bWwgKz0gJzxoMz7Qm9C40L3QtdC50L3QvtC1INC/0YDQvtCz0YDQsNC80LzQuNGA0L7QstCw0L3QuNC1PC9oMz4nO1xuICAgIGh0bWwgKz0gJzxkaXY+0JfQsNC00LDRh9CwINC+INC90LDQt9C90LDRh9C10L3QuNGP0YUg0LzQvtC20LXRgiDQsdGL0YLRjCDRgdCy0LXQtNC10L3QsCDQuiDQt9Cw0LTQsNGH0LUg0LvQuNC90LXQudC90L7Qs9C+INC/0YDQvtCz0YDQsNC80LzQuNGA0L7QstCw0L3QuNGPINC4INGA0LXRiNC10L3QsCDRgdC40LzQv9C70LXQutGBLdC80LXRgtC+0LTQvtC8INC40LvQuCDQtNGA0YPQs9C40LzQuCBMUC3QsNC70LPQvtGA0LjRgtC80LDQvNC4LjwvZGl2Pic7XG4gICAgY29uc3QgbHAgPSBscEFzc2lnbm1lbnQoQyk7XG4gICAgaWYgKGxwKSB7XG4gICAgICBodG1sICs9ICc8ZGl2PjxiPtCg0LXRiNC10L3QuNC1OjwvYj48L2Rpdj4nO1xuICAgICAgaHRtbCArPSAnPHRhYmxlPjx0aGVhZD48dHI+PHRoPjwvdGg+PHRoPtCd0LDQt9C90LDRh9C10L3QuNC1PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pic7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxwLmFzc2lnbm1lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaHRtbCArPSBgPHRyPjx0aD54JHtpICsgMX08L3RoPjx0ZD4ke2xwLmFzc2lnbm1lbnRbaV0gKyAxfSAoQzogJHtDW2ldW2xwLmFzc2lnbm1lbnRbaV1dfSk8L3RkPjwvdHI+YDtcbiAgICAgIH1cbiAgICAgIGh0bWwgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuICAgICAgaHRtbCArPSBgPGRpdj48Yj7QntGC0LLQtdGCOjwvYj4g0KHRg9C80LzQsNGA0L3QsNGPINGB0YLQvtC40LzQvtGB0YLRjCA9ICR7bHAuY29zdH08L2Rpdj5gO1xuICAgIH1cbiAgICAvLyAtLS0g0JbQsNC00L3Ri9C5IC0tLVxuICAgIGh0bWwgKz0gJzxoMz7QltCw0LTQvdGL0LUg0Lgg0Y3QstGA0LjRgdGC0LjRh9C10YHQutC40LUg0LzQtdGC0L7QtNGLPC9oMz4nO1xuICAgIGh0bWwgKz0gJzxkaXY+0JbQsNC00L3Ri9C1INC80LXRgtC+0LTRiyDQvdCw0LfQvdCw0YfQsNGO0YIg0YDQsNCx0L7RgiDQv9C+INC/0YDQuNC90YbQuNC/0YMg0LzQuNC90LjQvNCw0LvRjNC90L7QuSDRgdGC0L7QuNC80L7RgdGC0Lgg0L3QsCDQutCw0LbQtNC+0Lwg0YjQsNCz0LUsINC90L4g0L3QtSDQs9Cw0YDQsNC90YLQuNGA0YPRjtGCINC+0L/RgtC40LzQsNC70YzQvdC+0YHRgtC4LjwvZGl2Pic7XG4gICAgY29uc3QgZ3JlZWR5ID0gZ3JlZWR5QXNzaWdubWVudChDKTtcbiAgICBpZiAoZ3JlZWR5KSB7XG4gICAgICBodG1sICs9ICc8ZGl2PjxiPtCg0LXRiNC10L3QuNC1OjwvYj48L2Rpdj4nO1xuICAgICAgaHRtbCArPSAnPHRhYmxlPjx0aGVhZD48dHI+PHRoPjwvdGg+PHRoPtCd0LDQt9C90LDRh9C10L3QuNC1PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pic7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyZWVkeS5hc3NpZ25tZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGh0bWwgKz0gYDx0cj48dGg+eCR7aSArIDF9PC90aD48dGQ+JHtncmVlZHkuYXNzaWdubWVudFtpXSArIDF9IChDOiAke0NbaV1bZ3JlZWR5LmFzc2lnbm1lbnRbaV1dfSk8L3RkPjwvdHI+YDtcbiAgICAgIH1cbiAgICAgIGh0bWwgKz0gJzwvdGJvZHk+PC90YWJsZT4nO1xuICAgICAgaHRtbCArPSBgPGRpdj48Yj7QntGC0LLQtdGCOjwvYj4g0KHRg9C80LzQsNGA0L3QsNGPINGB0YLQvtC40LzQvtGB0YLRjCA9ICR7Z3JlZWR5LmNvc3R9PC9kaXY+YDtcbiAgICB9XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cbiAgcmVuZGVyRXh0cmFNZXRob2RzKENyYXcpIHtcbiAgICAvLyDQktGL0LLQvtC00LjQvCDQstC10L3Qs9C10YDRgdC60LjQuSDQvNC10YLQvtC0INC4INC00YDRg9Cz0LjQtSDRgdC/0L7RgdC+0LHRi1xuICAgIGNvbnN0IGV4dHJhRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhLW1ldGhvZHMnKTtcbiAgICBsZXQgaHRtbCA9ICcnO1xuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQutCy0LDQtNGA0LDRgtC90L7RgdGC0YxcbiAgICBjb25zdCBDID0gQ3JhdztcbiAgICBjb25zdCBuID0gQy5sZW5ndGg7XG4gICAgY29uc3QgaXNTcXVhcmUgPSBuID4gMCAmJiBDLmV2ZXJ5KHJvdyA9PiByb3cubGVuZ3RoID09PSBuKTtcbiAgICBodG1sICs9ICc8aDM+0KDQtdGI0LXQvdC40LUg0LzQtdGC0L7QtNC+0Lwg0JLQtdC90LPQtdGA0LAgKNCy0LXQvdCz0LXRgNGB0LrQuNC5INCw0LvQs9C+0YDQuNGC0LwpPC9oMz4nO1xuICAgIGlmICghaXNTcXVhcmUpIHtcbiAgICAgIGh0bWwgKz0gJzxkaXYgc3R5bGU9XCJjb2xvcjpyZWRcIj7QnNCw0YLRgNC40YbQsCDQtNC+0LvQttC90LAg0LHRi9GC0Ywg0LrQstCw0LTRgNCw0YLQvdC+0LkgKG7Dl24pLCDQv9GA0L7QstC10YDRjNGC0LUg0LLQstC+0LQuPC9kaXY+JztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZW5kZXJIdW5nYXJpYW5NZXRob2QoQyk7XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBodG1sICs9ICc8ZGl2PtCS0LXQvdCz0LXRgNGB0LrQuNC5INCw0LvQs9C+0YDQuNGC0Lwg0L3QtSDRgdC80L7QsyDQvdCw0LnRgtC4INGA0LXRiNC10L3QuNC1INC00LvRjyDRjdGC0L7QuSDQvNCw0YLRgNC40YbRiy48L2Rpdj4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbCArPSAnPGRpdj48Yj7QoNC10YjQtdC90LjQtTo8L2I+PC9kaXY+JztcbiAgICAgICAgaHRtbCArPSAnPHRhYmxlPjx0aGVhZD48dHI+PHRoPjwvdGg+PHRoPtCd0LDQt9C90LDRh9C10L3QuNC1PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pic7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0LmFzc2lnbm1lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBodG1sICs9IGA8dHI+PHRoPngke2kgKyAxfTwvdGg+PHRkPiR7cmVzdWx0LmFzc2lnbm1lbnRbaV0gKyAxfSAoQzogJHtDW2ldW3Jlc3VsdC5hc3NpZ25tZW50W2ldXX0pPC90ZD48L3RyPmA7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSAnPC90Ym9keT48L3RhYmxlPic7XG4gICAgICAgIGh0bWwgKz0gYDxkaXY+PGI+0J7RgtCy0LXRgjo8L2I+INCh0YPQvNC80LDRgNC90LDRjyDRgdGC0L7QuNC80L7RgdGC0YwgPSAke3Jlc3VsdC5jb3N0fTwvZGl2PmA7XG4gICAgICB9XG4gICAgfVxuICAgIC8vINCU0YDRg9Cz0LjQtSDQvNC10YLQvtC00YsgKNGBINGA0LXRiNC10L3QuNC10LwpXG4gICAgaHRtbCArPSB0aGlzLnJlbmRlck90aGVyTWV0aG9kcyhDKTtcbiAgICBleHRyYURpdi5pbm5lckhUTUwgPSBodG1sO1xuICB9XG59XG5cbi8vIENvbnRyb2xsZXJcbmNsYXNzIEFzc2lnbm1lbnRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlbCA9IG51bGw7XG4gICAgdGhpcy52aWV3ID0gbmV3IEFzc2lnbm1lbnRWaWV3KCk7XG4gICAgdGhpcy5pbml0RXZlbnRzKCk7XG4gIH1cbiAgaW5pdEV2ZW50cygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29sdmUtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNvbHZlKCkpO1xuICB9XG4gIHNvbHZlKCkge1xuICAgIGNvbnN0IHsgbWF0cml4OiBDLCBzaXplOiBzaXplQywgaXNTcXVhcmUgfSA9IHRoaXMudmlldy5nZXRNYXRyaXhDKCk7XG4gICAgY29uc3QgeyBtYXRyaXg6IFQsIHNpemU6IHNpemVUIH0gPSB0aGlzLnZpZXcuZ2V0TWF0cml4VCgpO1xuICAgIHdpbmRvdy5hc3NpZ25tZW50TW9kZWxJbnB1dEMgPSBDO1xuICAgIHdpbmRvdy5hc3NpZ25tZW50TW9kZWxJbnB1dFQgPSBUO1xuICAgIGNvbnN0IG4gPSBNYXRoLm1pbihzaXplQywgc2l6ZVQpO1xuICAgIGlmICghbiB8fCBDLmxlbmd0aCAhPT0gbiB8fCBULmxlbmd0aCAhPT0gbikge1xuICAgICAgdGhpcy52aWV3LnJlbmRlckFuc3dlcign0J7RiNC40LHQutCwOiDQvdC10LrQvtGA0YDQtdC60YLQvdGL0Lkg0LLQstC+0LQg0LzQsNGC0YDQuNGGJyk7XG4gICAgICB0aGlzLnZpZXcucmVuZGVyU29sdXRpb25UYWJsZShbXSk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmEtbWV0aG9kcycpLmlubmVySFRNTCA9ICcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLm1vZGVsID0gbmV3IEFzc2lnbm1lbnRNb2RlbChuKTtcbiAgICB0aGlzLm1vZGVsLnNldE1hdHJpeEMoQyk7XG4gICAgdGhpcy5tb2RlbC5zZXRNYXRyaXhUKFQpO1xuICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMudmlldy5nZXRQYXJhbXMoKTtcbiAgICB0aGlzLm1vZGVsLnNldFMocGFyYW1zLlMpO1xuICAgIHRoaXMubW9kZWwuc2V0VFR5cGUocGFyYW1zLlRfdHlwZSk7XG4gICAgdGhpcy5tb2RlbC5zZXRUTGltaXQocGFyYW1zLlRfbGltaXQpO1xuICAgIGNvbnN0IHsgYW5zd2VyLCBzb2x1dGlvbnMgfSA9IHRoaXMubW9kZWwuc29sdmUocGFyYW1zKTtcbiAgICB0aGlzLnZpZXcucmVuZGVyQW5zd2VyKGFuc3dlci5hbnN3ZXIgfHwgYW5zd2VyKTtcbiAgICB0aGlzLnZpZXcucmVuZGVyU29sdXRpb25UYWJsZShzb2x1dGlvbnMpO1xuICAgIHRoaXMudmlldy5yZW5kZXJFeHRyYU1ldGhvZHMoQyk7XG4gIH1cbn1cblxuLy8g0JjQvdC40YbQuNCw0LvQuNC30LDRhtC40Y9cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBuZXcgQXNzaWdubWVudENvbnRyb2xsZXIoKTtcbn0pOyAiXX0=
